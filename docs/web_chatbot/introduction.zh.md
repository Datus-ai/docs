# Web chatbot ç”¨æˆ·æŒ‡å—

## æ¦‚è§ˆ

Datus Web chatbot æä¾›ä¸€ä¸ªæ˜“ç”¨çš„ç½‘é¡µç•Œé¢ï¼Œç”¨äºä¸ Datus AI åŠ©æ‰‹äº¤äº’ã€‚å®ƒåŸºäº Streamlit æ„å»ºï¼Œé¢å‘è‡ªç„¶è¯­è¨€è½¬ SQL çš„åœºæ™¯ï¼Œç”¨æˆ·æ— éœ€æŒæ¡å‘½ä»¤è¡Œå³å¯å®Œæˆå¯¹è¯å¼åˆ†æã€‚

## å¿«é€Ÿå¼€å§‹

### å¯åŠ¨ç½‘é¡µç•Œé¢

**æŒ‡å®šå‘½åç©ºé—´**ï¼š
```bash
datus --web --namespace <your_namespace>
```

**ä½¿ç”¨è‡ªå®šä¹‰é…ç½®**ï¼š
```bash
datus --web --config path/to/agent.yml --namespace snowflake
```

**è‡ªå®šä¹‰ç«¯å£ä¸ä¸»æœº**ï¼š
```bash
datus --web --port 8080 --host 0.0.0.0
```

æµè§ˆå™¨å°†è‡ªåŠ¨æ‰“å¼€ `http://localhost:8501`ï¼ˆæˆ–ä½ æŒ‡å®šçš„ç«¯å£ï¼‰ã€‚

![Web Chatbot Interface](../assets/web_chatbot_interface.png)

## æ ¸å¿ƒåŠŸèƒ½

### 1. äº¤äº’å¼å¯¹è¯ç•Œé¢

**è‡ªç„¶è¯­è¨€æé—®**ï¼š

ç›´æ¥è¾“å…¥é—®é¢˜ï¼ŒAI ä¼šç”Ÿæˆå¹¶æ‰§è¡Œ SQLã€‚

**ç¤ºä¾‹**ï¼š
```
Show me total revenue by product category for the last month
```

åŠ©æ‰‹å°†ä¼šï¼š

1. ç†è§£ä½ çš„é—®é¢˜
2. ç”Ÿæˆç›¸åº”çš„ SQL æŸ¥è¯¢
3. ä»¥è¯­æ³•é«˜äº®çš„å½¢å¼å±•ç¤º SQL
4. ç»™å‡º AI çš„è§£é‡Šè¯´æ˜

### 2. Subagent æ”¯æŒ

åœ¨ç½‘é¡µç•Œé¢ä¸­ç›´æ¥è®¿é—®é¢å‘ä¸åŒä»»åŠ¡çš„ä¸“ç”¨ subagentã€‚

**å¯ç”¨ subagent**ï¼ˆåœ¨å¯å±•å¼€åŒºåŸŸä¸­å±•ç¤ºï¼‰ï¼š

- `gen_semantic_model`ï¼šä»æ•°æ®åº“è¡¨ç”Ÿæˆè¯­ä¹‰æ¨¡å‹
- `gen_metrics`ï¼šå°† SQL æŸ¥è¯¢è½¬æ¢ä¸º MetricFlow æŒ‡æ ‡
- `gen_sql_summary`ï¼šåˆ†æä¸åˆ†ç±» SQL æŸ¥è¯¢

**ä½¿ç”¨æ–¹å¼**ï¼š

1. åœ¨ä¸»é¡µç‚¹å‡» "ğŸ”§ Access Specialized Subagents"
2. é€‰æ‹©éœ€è¦çš„ subagent
3. ç‚¹å‡» "ğŸš€ Use [subagent_name]"
4. ä¸ä¸“ç”¨åŠ©æ‰‹å¯¹è¯

**ç›´è¾¾ URL**ï¼š

ä½ å¯ä»¥æ”¶è— subagent çš„ URL ä¾¿äºå¿«é€Ÿè®¿é—®ï¼š

```
http://localhost:8501/?subagent=gen_metrics
http://localhost:8501/?subagent=gen_semantic_model
```

### 3. ä¼šè¯ç®¡ç†

**æŸ¥çœ‹ä¼šè¯å†å²**ï¼š

ä¾§è¾¹æ æ˜¾ç¤ºæœ€è¿‘çš„ä¼šè¯ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼š

- ä¼šè¯ IDï¼ˆæˆªæ–­æ˜¾ç¤ºï¼‰
- åˆ›å»ºæ—¶é—´
- æ¶ˆæ¯æ•°é‡
- æœ€æ–°ç”¨æˆ·æ¶ˆæ¯é¢„è§ˆ

**åŠ è½½å†å²ä¼šè¯**ï¼š

1. åœ¨ä¾§è¾¹æ æ‰¾åˆ°ç›®æ ‡ä¼šè¯
2. ç‚¹å‡» "ğŸ”— Load Session"
3. ä»¥åªè¯»æ–¹å¼æŸ¥çœ‹ä¼šè¯å†…å®¹

**ä¼šè¯åˆ†äº«**ï¼š

æ¯ä¸ªä¼šè¯éƒ½æœ‰å”¯ä¸€å¯åˆ†äº«çš„é“¾æ¥ï¼š

```
http://localhost:8501?session=abc123def456...
```

### 4. æˆåŠŸæ¡ˆä¾‹å½’æ¡£ï¼ˆSuccess Storyï¼‰

**æ ‡è®°æœ‰æ•ˆæŸ¥è¯¢**ï¼š

å½“ AI ç”Ÿæˆçš„ SQL å·¥ä½œè‰¯å¥½æ—¶ï¼š

1. å…ˆå®¡é˜…ç”Ÿæˆçš„ SQL
2. ç‚¹å‡» "ğŸ‘ Success" æŒ‰é’®
3. æŸ¥è¯¢ä¼šä¿å­˜åˆ° `~/.datus/benchmark/[subagent]/success_story.csv`

![Save Generated SQL](../assets/geneated_sql_save.png)

**CSV æ ¼å¼**ï¼š

```csv
session_link,session_id,subagent_name,user_message,sql,timestamp
http://localhost:8501?session=...,abc123...,chatbot,"Show revenue by category",SELECT ...,2025-01-15 10:30:00
```

è¿™æœ‰åŠ©äºæ²‰æ·€æœ‰æ•ˆæŸ¥è¯¢ç”¨äºåŸºå‡†è¯„æµ‹ä¸æŒç»­æ”¹è¿›ã€‚

### 5. é—®é¢˜åé¦ˆï¼ˆReport Issuesï¼‰

**ä¾¿æ·åˆ†äº«é—®é¢˜**ï¼š

1. åœ¨ä¾§è¾¹æ ç‚¹å‡» "ğŸ› Report Issue"
2. ç³»ç»Ÿä¼šè‡ªåŠ¨å°†ä¼šè¯é“¾æ¥å¤åˆ¶åˆ°å‰ªè´´æ¿
3. å°†é“¾æ¥ç²˜è´´ç»™å¼€å‘è€…å³å¯å®šä½é—®é¢˜

ä¼šè¯é“¾æ¥åŒ…å«å®Œæ•´çš„å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œä¾¿äºæ’æŸ¥ä¸å¤ç°ã€‚

![Report Issue](../assets/report_issue_sessionid_copied.png){ width="50%" }

## æ€»ç»“

Datus Web chatbot æä¾›ï¼š

- **æ˜“ç”¨çš„ç•Œé¢**ï¼šæ— éœ€å‘½ä»¤è¡ŒçŸ¥è¯†
- **Subagent ç›´è¾¾**ï¼šæŒ‰ä»»åŠ¡å¯ç”¨ä¸“ç”¨åŠ©æ‰‹
- **ä¼šè¯ç®¡ç†**ï¼šä¿å­˜ã€åŠ è½½ä¸åˆ†äº«å¯¹è¯
- **æˆåŠŸå½’æ¡£**ï¼šæ ‡è®°å¹¶æ”¶é›†æœ‰æ•ˆæŸ¥è¯¢
- **ä¸€é”®åˆ†äº«**ï¼šå¤åˆ¶ä¼šè¯é“¾æ¥
- **å¯è§†åŒ–æ‰§è¡Œ**ï¼šé€æ­¥å±•ç¤º SQL ç”Ÿæˆè¿‡ç¨‹
- **å¤šå‘½åç©ºé—´æ”¯æŒ**ï¼šä¾¿æ·åˆ‡æ¢æ•°æ®åº“
